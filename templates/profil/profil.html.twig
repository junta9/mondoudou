{% extends 'base.html.twig' %}
{% block stylesheets %}
<link rel="stylesheet" type="text/css" href="{{ asset('assets/css/profil.css') }}">
<link rel="stylesheet" type="text/css" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
{% endblock %}
{% block header %}
<!-- banner bg main start -->
<div class="banner_bg_main">
	<!-- header top section start -->
	<div class="container">
		<div class="header_section_top">
			<div class="row">
				<div class="col-sm-12">

					<div class="logo_section">
						<div class="container">
							<div class="row">
								<div class="col-sm-12">
									<div class="logo">
										<a href="{{ path('app_home') }}" id="logo_title">Mondoudou</a>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="header_section">
						<div class="container">
							<div class="containt_main">

								<span class="toggle_icon" onclick="openNav()"><img
										src="{{ asset('assets/images/toggle-icon.png') }}" alt=""></span>

								<div class="main">
									<!-- Another variation with a button -->
									<div class="input-group">
										<form class="d-flex w-100 search-form" method="get"
											action="{{ path('app_search') }}" onsubmit="return validateSearchForm()">
											<input type="text" class="form-control" placeholder="Rechercher un produit"
												name="searchTerm" id="searchTerm">
											<div class="input-group-append">
												<button class="btn btn-secondary" type="submit"
													style="background-color: #5D3D29; border: none;">
													<i class="fa fa-search"></i>
												</button>
											</div>
										</form>
									</div>
									{# <div class="logo"><a href="{{ path('app_home') }}" id="logo_title">Mondoudou</a>
									</div> #}

								</div>
								<div class="header_box">
									<div class="login_menu">
										<ul>
											<li>
												<a href="{{ path('app_panier') }}">
													{% if app.session.get('panier') is not empty %}
													<span id="cart_items_count" class="badge badge-pill badge-danger">{{
														app.session.get('panier')|length }}</span>
													{# <span id="cart_items_count"
														class="badge badge-pill badge-danger"></span> #}
													{% endif %}
													<i class="fa fa-shopping-cart" aria-hidden="true"></i>
													<span id="custom_link" class="padding_10">Panier</span>
												</a>
											</li>
											{# <li>
												<a href="{{ path('app_panier') }}">
													<i class="fa fa-shopping-cart" aria-hidden="true"></i>
													<span id="custom_link" class="padding_10">Panier</span></a>
											</li> #}
											{% if is_granted('ROLE_USER') %}
											<li>
												<a href="">
													<i class="fa fa-user" aria-hidden="true"></i>
													<span id="custom_link" class="padding_10">Compte</span>
												</a>
											</li>
											<li>
												<a href="{{ path('app_logout') }}">
													<i class="fa fa-user" aria-hidden="true"></i>
													<span id="custom_link" class="padding_10">Deconnexion</span>
												</a>
											</li>
											{% else %}
											<li>
												<a href="{{ path('app_login') }}">
													<i class="fa fa-user" aria-hidden="true"></i>
													<span id="custom_link" class="padding_10">Se connecter</span>
												</a>
											</li>
											{% endif %}
										</ul>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div id="mySidenav" class="sidenav">
			<a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
			<a href="{{ path('app_home') }}">Home</a>
			<a href="{{ path('app_category' , {id: peluchesCategory.id}) }}">Peluches</a>
			<a href="{{ path('app_category' , {id: doudousCategory.id}) }}">Doudous</a>
			<a class="nav-link" href="#" data-bs-toggle="modal" data-bs-target="#joinModal1">Contact</a>
		</div>
	</div>
</div>

{% endblock %}
{% block body %}
<section class="py-5 my-5">
	<div class="container my-5">
		<h1 class="my-5 pt-5 text-center text-uppercase fw-bold">Informations personnelles</h1>
		<div class="bg-white shadow rounded-lg d-block d-sm-flex" style="height: 550px;">
			<div class="profile-tab-nav border-right">
				<div class="nav flex-column nav-pills" id="v-pills-tab" role="tablist" aria-orientation="vertical">
					<a class="nav-link active" id="account-tab" data-toggle="pill" href="#account" role="tab"
						aria-controls="account" aria-selected="true">
						<i class="fa fa-home text-center mr-1"></i>
						Mon compte
					</a>
					<a class="nav-link" id="password-tab" data-toggle="pill" href="#order" role="tab"
						aria-controls="order" aria-selected="false">
						<i class="fa fa-file-text text-center mr-1"></i>
						Mes commandes
					</a>
					<a class="nav-link" id="security-tab" data-toggle="pill" href="#password" role="tab"
						aria-controls="password" aria-selected="false">
						<i class="fa fa-key text-center mr-1"></i>
						Mot de passe
					</a>
				</div>
			</div>
			<div class="tab-content p-4 px-md-5" id="v-pills-tabContent">
				<div class="tab-pane fade show active" id="account" role="tabpanel" aria-labelledby="account-tab">
					<form action="{{ path('profil_user_update') }}" method="POST">
						<h3 class="mb-4">Paramètres du compte</h3>
						<div class="row">
							<div class="col-md-6">
								<div class="form-group">
									<label>Prénom</label>
									<input type="text" class="form-control" name="user-firstname"
										value="{{ user.firstname }}">
								</div>
							</div>
							<div class="col-md-6">
								<div class="form-group">
									<label>Nom</label>
									<input type="text" class="form-control" name="user-lastname"
										value="{{ user.lastname }}">
								</div>
							</div>
							<div class="col-md-6">
								<div class="form-group">
									<label>Email</label>
									<input type="text" class="form-control" name="user-email" value="{{ user.email }}">
								</div>
							</div>
							<div class="col-md-6">
								<div class="form-group">
									<label>Téléphone</label>
									<input type="text" class="form-control" name="user-mobile"
										value="{{ user.mobile }}">
								</div>
							</div>
							<button class="btn btn-primary w-50">Mettre à jour</button>

						</div>
					</form>
					{% if adresses is empty %}
					<div class="col" style="margin-top: 100px;">
						<h5>Vous n'avez pas renseigner d'adresse de livraison, veuillez en ajouter une en appuyant
							sur le bouton</h5>
						<div class="my-3 text-center">
							<a href="{{ path('adresse_new') }}" class="border-0 btn btn-primary w-50">+ Ajouter une
								nouvelle adresse</a>
						</div>
					</div>
					{% else %}
					<h3 class="my-3" style="border-bottom: 1px solid gray">Adresse de livraison</h3>
					<div class="row">
						{% for adresse in adresses %}
						<div class="form-check col">
							{# <input class="form-check-input" type="radio" name="adresse_id" id="{{ adresse.id }}"
								value="{{ adresse.id }}" required> #}
							<label class="form-check-label" for="{{ adresse.id }}">
								<strong>Nom de l'adresse :</strong>
								{{ adresse.addressName }}<br>
								{{ adresse.adresse }}<br>
								{{ adresse.postalcode }}
								{{ adresse.city }}<br>
								{{ adresse.country }}
							</label>
						</div>
						{% endfor %}
					</div>
					{% endif %}
				</div>
				<div class="tab-pane fade" id="order" role="tabpanel" aria-labelledby="order-tab">
					<div class="row" style="margin-top: 50px;">
						<h5>Vous n'avez pas encore effectué de commandes.</h5>
					</div>
				</div>
				<div class="tab-pane fade" id="password" role="tabpanel" aria-labelledby="password-tab">
					<form action="{{ path('profil_user_update_password') }}" method="POST">
						<h3 class="mb-4">Changer le mot de passe</h3>
						<div class="row">
							<div class="col-md-6">
								<div class="form-group">
									<label>Ancien mot de passe</label>
									<input name="older-password" type="password" class="form-control" required>
								</div>
							</div>
						</div>
						<div class="row">
							<div class="col-md-6">
								<div class="form-group">
									<label>Nouveau mot de passe</label>
									<input name="new-password" type="password" class="form-control" required>
								</div>
							</div>
							<div class="col-md-6">
								<div class="form-group">
									<label>Confirmer le nouveau mot de passe</label>
									<input name="re-new-password" type="password" class="form-control" required>
								</div>
							</div>
						</div>
						<div>
							<button class="btn btn-primary">Update</button>
							<button class="btn btn-light">Cancel</button>
						</div>
					</form>
				</div>
			</div>
		</div>
</section>
{% endblock %}
{% block sticky_cart %}
{% endblock %}