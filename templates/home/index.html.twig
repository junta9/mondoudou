{% extends 'base.html.twig' %}
{% block header %}
<!-- banner bg main start -->
   <div class="banner_bg_main">
      <!-- header top section start -->
      <div class="container">
         <div class="header_section_top">
            <div class="row">
               <div class="col-sm-12">
                  
                  <div class="logo_section">
                     <div class="container">
                        <div class="row">
                           <div class="col-sm-12">
                              <div class="logo"><a href="{{ path("app_home") }}" id="logo_title">Mondoudou</a></div>
                           </div>
                        </div>
                     </div>
                  </div>
                  <div class="header_section">
                     <div class="container">
                        <div class="containt_main">
                           
                           <span class="toggle_icon" onclick="openNav()"><img src="{{ asset('assets/images/toggle-icon.png') }}" alt=""></span>
                          
                           <div class="main">
                              <!-- Another variation with a button -->
                              <div class="input-group">
                                 <form class="d-flex w-100 search-form" method="get" action="{{ path('app_search') }}" onsubmit="return validateSearchForm()">
                                    <input type="text" class="form-control" placeholder="Rechercher un produit" name="searchTerm" id="searchTerm">
                                    <div class="input-group-append">
                                       <button class="btn btn-secondary" type="submit" style="background-color: #5D3D29; border: none;">
                                       <i class="fa fa-search"></i>
                                       </button>
                                    </div>
                                 </form>
                              </div>
                              {# <div class="logo"><a href="{{ path("app_home") }}" id="logo_title">Mondoudou</a></div> #}

                           </div>
                           <div class="header_box">
                              <div class="login_menu">
                                 <ul>
                                    <li>
                                       <a href="{{ path('app_panier') }}">
                                          {% if app.session.get('panier') is not empty %}
                                                <span id="cart_items_count" class="badge badge-pill badge-danger">{{ app.session.get('panier')|length }}</span>
                                          {% endif %}
                                          <i class="fa fa-shopping-cart" aria-hidden="true">
                                          </i>
                                          <span id="custom_link" class="padding_10">Panier</span>
                                       </a>
                                    </li>
                                    {# <li>
                                          <a href="{{ path('app_panier') }}">
                                          <i class="fa fa-shopping-cart" aria-hidden="true"></i>
                                          <span id="custom_link" class="padding_10">Panier</span></a>
                                    </li> #}
                                    {% if is_granted('ROLE_USER') %}
                                    <li>
                                          <a href="">
                                          <i class="fa fa-user" aria-hidden="true"></i>
                                          <span id="custom_link" class="padding_10">Compte</span></a>
                                    </li>
                                    <li>
                                          <a href="{{ path('app_logout') }}">
                                          <i class="fa fa-user" aria-hidden="true"></i>
                                          <span id="custom_link" class="padding_10">Deconnexion</span></a>
                                    </li>
                                    {% else %}
                                    <li>
                                          <a href="{{ path('app_login') }}">
                                          <i class="fa fa-user" aria-hidden="true"></i>
                                          <span id="custom_link" class="padding_10">Se connecter</span></a>
                                    </li>
                                    {% endif %}
                                 </ul>
                              </div>
                           </div>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </div>
         <div id="mySidenav" class="sidenav">
            <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
            <a href="{{ path("app_home") }}">Home</a>
            <a href="{{ path("app_category", {id: peluchesCategory.id}) }}">Peluches</a>
            <a href="{{ path("app_category", {id: doudousCategory.id}) }}">Doudous</a>
            <a class="nav-link" href="#" data-bs-toggle="modal" data-bs-target="#joinModal1">Contact</a>
         </div>
         {# header_section Two when screen is small #}
         <div class="header_section headerTwo d-none">
            <div class="container">
               <div class="containt_main">
                  <div id="mySidenav" class="sidenav">
                     <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
                     <a href="{{ path("app_home") }}">Home</a>
                     <a href="{{ path("app_category", {id: peluchesCategory.id}) }}">Peluches</a>
                     <a href="{{ path("app_category", {id: doudousCategory.id}) }}">Doudous</a>
                     <a class="nav-link" href="#" data-bs-toggle="modal" data-bs-target="#joinModal1">Contact</a>
                  </div>
                  <span class="toggle_icon" onclick="openNav()"><img src="{{ asset('assets/images/toggle-icon.png') }}" alt=""></span>
                  {# <div class="dropdown">
                     <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">All Category 
                     </button>
                     <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                        <a class="dropdown-item" href="#">Action</a>
                        <a class="dropdown-item" href="#">Another action</a>
                        <a class="dropdown-item" href="#">Something else here</a>
                     </div>
                  </div> #}
                  <div class="main m-0">
                     <!-- Another variation with a button -->
                     <div class="input-group">
                        <input type="text" class="form-control" placeholder="Search this blog">
                        <div class="input-group-append">
                           <button class="btn btn-secondary" type="button" style="background-color: #f26522; border-color:#f26522 ">
                           <i class="fa fa-search"></i>
                           </button>
                        </div>
                     </div>
                  </div>
                  <div class="header_box">
                     
                     <div class="login_menu">
                        <ul>
                           <li><a href="#">
                              <i class="fa fa-shopping-cart" aria-hidden="true"></i>
                              <span class="padding_10">Cart</span></a>
                           </li>
                           <li><a href="#">
                              <i class="fa fa-user" aria-hidden="true"></i>
                              <span class="padding_10">Cart</span></a>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div>
                     <div class="logo"><a href="{{ path("app_home") }}" id="logo_title">Mondoudou</a></div>
         </div>

      </div>
   </div>
   
{% endblock %}
{% block body %}

   <!-- fashion section start -->
   <div class="fashion_section mt-5">
      {# {{ dump(peluchesPhotos) }} #}
      <h1 class="fashion_taital">Peluches</h1>
      <div id="main_slider" class="carousel slide" data-ride="carousel">
      {# {{ dump(photos) }} #}
         <div class="carousel-inner">
            <div class="carousel-item active">
               <div class="container">
                  <div class="fashion_section_2">
                     <div class="row">
                     {% set randomIndexes = peluchesPhotos|keys|sort|slice(0, 3) %}
                     {% for index in randomIndexes %}
                     {# {% for photo in photos %} #}
                        <div class="col-lg-4 col-sm-4">
                           <div class="card-index box_main">
                              <h4 class="shirt_text">{{ peluchesPhotos[index].product.name }}</h4>
                              <p class="price_text">Prix <span style="color: #262626;">€ {{ peluchesPhotos[index].product.price }}</span></p>
                              <div class="tshirt_img"><img src="images/photos/{{ peluchesPhotos[index].imageName }}" alt="" style="height: 260px"></div>
                              {# message de notifications #}
                              <div id="notification" class="alert alert-success " role="alert" style="display:none;">
                                 Produit ajouté au panier
                              </div>
                     
                              <div class="btn_main">
                                 {# <div class="buy_bt"><a href="{{ path("add_panier", {id: peluchesPhotos[index].product.id}) }}">Ajouter au panier</a></div> #}
                                 <div class="buy_bt"><a class="add-to-cart" id="add" href="" data-id="{{ peluchesPhotos[index].product.id }}">Ajouter au panier</a></div>
                                 <div class="seemore_bt"><a href="{{ path("app_product", {id: peluchesPhotos[index].product.id}) }}">Voir plus</a></div>
                              </div>
                           </div>
                        </div>
                     {# {% endfor %} #}
                     {% endfor %}
                     </div>
                  </div>
               </div>
            </div>
            <div class="carousel-item">
               <div class="container">
                  {# <h1 class="fashion_taital">Peluches</h1> #}
                  <div class="fashion_section_2">
                     <div class="row">
                     {% set randomIndexes = peluchesPhotos|keys|sort|slice(4, 3) %}
                     {% for index in randomIndexes %}
                        <div class="col-lg-4 col-sm-4">
                           <div class="card-index box_main">
                              <h4 class="shirt_text">{{ peluchesPhotos[index].product.name }}</h4>
                              <p class="price_text">Prix <span style="color: #262626;">€ {{ peluchesPhotos[index].product.price }}</span></p>
                              <div class="tshirt_img"><img src="images/photos/{{ peluchesPhotos[index].imageName }}" alt=""></div> 
                              {# message de notifications #}
                              <div id="notification" class="alert alert-success " role="alert" style="display:none;">
                                 Produit ajouté au panier
                              </div>
                              <div class="btn_main">
                                 <div class="buy_bt"><a class="add-to-cart" id="add" href="" data-id="{{ peluchesPhotos[index].product.id }}">Ajouter au panier</a></div>
                                 <div class="seemore_bt"><a href="{{ path("app_product", {id: peluchesPhotos[index].product.id}) }}">Voir plus</a></div>
                              </div>
                           </div>
                        </div>
                     {% endfor %}
                     </div>
                  </div>
               </div>
            </div>
            <div class="carousel-item">
               <div class="container">
                  {# <h1 class="fashion_taital">Peluches</h1> #}
                  <div class="fashion_section_2">
                     <div class="row">
                     {% set randomIndexes = peluchesPhotos|keys|sort|slice(9, 3) %}
                     {% for index in randomIndexes %}
                        <div class="col-lg-4 col-sm-4">
                           <div class="card-index box_main">
                              <h4 class="shirt_text">{{ peluchesPhotos[index].product.name }}</h4>
                              <p class="price_text">Prix <span style="color: #262626;">€ {{ peluchesPhotos[index].product.price }}</span></p>
                              <div class="tshirt_img"><img src="images/photos/{{ peluchesPhotos[index].imageName }}" alt=""></div> 
                              {# message de notifications #}
                              <div id="notification" class="alert alert-success " role="alert" style="display:none;">
                                 Produit ajouté au panier
                              </div>
                              <div class="btn_main">
                                 <div class="buy_bt"><a class="add-to-cart" id="add" href="" data-id="{{ peluchesPhotos[index].product.id }}">Ajouter au panier</a></div>
                                 <div class="seemore_bt"><a href="{{ path("app_product", {id: peluchesPhotos[index].product.id}) }}">Voir plus</a></div>
                              </div>
                           </div>
                        </div>
                     {% endfor %}
                     </div>
                  </div>
               </div>
            </div>
         </div>
         <a class="carousel-control-prev" href="#main_slider" role="button" data-slide="prev">
            <i class="fa fa-angle-left"></i>
         </a>
         <a class="carousel-control-next" href="#main_slider" role="button" data-slide="next">
            <i class="fa fa-angle-right"></i>
         </a>
      </div>
   </div>
   <!-- fashion section end -->
   <!-- electronic section start -->
   <div class="fashion_section">
      <h1 class="fashion_taital">Doudous</h1>
      <div id="electronic_main_slider" class="carousel slide" data-ride="carousel">
         <div class="carousel-inner">
            <div class="carousel-item active">
               <div class="container">
                  <div class="fashion_section_2">
                     <div class="row">
                     {% set randomIndexes = doudousPhotos|keys|sort|slice(0, 3) %}
                     {% for index in randomIndexes %}
                        <div class="col-lg-4 col-sm-4">
                           <div class="card-index box_main">
                              <h4 class="shirt_text">{{ doudousPhotos[index].product.name }}</h4>
                              <p class="price_text">Prix <span style="color: #262626;">€ {{ doudousPhotos[index].product.price }}</span></p>
                              <div class="tshirt_img"><img src="images/photos/{{ doudousPhotos[index].imageName }}" alt=""></div> 
                              {# message de notifications #}
                              <div id="notification" class="alert alert-success " role="alert" style="display:none;">
                                 Produit ajouté au panier
                              </div>
                              <div class="btn_main">
                                 <div class="buy_bt"><a class="add-to-cart" id="add" href="" data-id="{{ doudousPhotos[index].product.id }}">Ajouter au panier</a></div>
                                 <div class="seemore_bt"><a href="{{ path("app_product", {id: doudousPhotos[index].product.id}) }}">Voir plus</a></div>
                              </div>
                           </div>
                        </div>
                     {% endfor %}
                     </div>
                  </div>
               </div>
            </div>
            <div class="carousel-item">
               <div class="container">
                  {# <h1 class="fashion_taital">Doudous</h1> #}
                  <div class="fashion_section_2">
                     <div class="row">
                        {% set randomIndexes = doudousPhotos|keys|sort|slice(15, 3) %}
                     {% for index in randomIndexes %}
                        <div class="col-lg-4 col-sm-4">
                           <div class="card-index box_main">
                              <h4 class="shirt_text">{{ doudousPhotos[index].product.name }}</h4>
                              <p class="price_text">Prix <span style="color: #262626;">€ {{ doudousPhotos[index].product.price }}</span></p>
                              <div class="tshirt_img"><img src="images/photos/{{ doudousPhotos[index].imageName }}" alt=""></div> 
                              {# message de notifications #}
                              <div id="notification" class="alert alert-success " role="alert" style="display:none;">
                                 Produit ajouté au panier
                              </div>
                              <div class="btn_main">
                                 <div class="buy_bt"><a class="add-to-cart" id="add" href="" data-id="{{ doudousPhotos[index].product.id }}">Ajouter au panier</a></div>
                                 <div class="seemore_bt"><a href="{{ path("app_product", {id: doudousPhotos[index].product.id}) }}">Voir plus</a></div>
                              </div>
                           </div>
                        </div>
                     {% endfor %}
                     </div>
                  </div>
               </div>
            </div>
            <div class="carousel-item">
               <div class="container">
                  {# <h1 class="fashion_taital">Doudous</h1> #}
                  <div class="fashion_section_2">
                     <div class="row">
                     {% set randomIndexes = doudousPhotos|keys|sort|slice(10, 3) %}
                     {% for index in randomIndexes %}
                        <div class="col-lg-4 col-sm-4">
                           <div class="card-index box_main">
                              <h4 class="shirt_text">{{ doudousPhotos[index].product.name }}</h4>
                              <p class="price_text">Prix <span style="color: #262626;">€ {{ doudousPhotos[index].product.price }}</span></p>
                              <div class="tshirt_img"><img src="images/photos/{{ doudousPhotos[index].imageName }}" alt=""></div> 
                              {# message de notifications #}
                              <div id="notification" class="alert alert-success " role="alert" style="display:none;">
                                 Produit ajouté au panier
                              </div>
                              <div class="btn_main">
                                 <div class="buy_bt"><a class="add-to-cart" id="add" href="" data-id="{{ doudousPhotos[index].product.id }}">Ajouter au panier</a></div>
                                 <div class="seemore_bt"><a href="{{ path("app_product", {id: doudousPhotos[index].product.id}) }}">Voir plus</a></div>
                              </div>
                           </div>
                        </div>
                     {% endfor %}
                     </div>
                  </div>
               </div>
            </div>
         </div>
         <a class="carousel-control-prev" href="#electronic_main_slider" role="button" data-slide="prev">
            <i class="fa fa-angle-left"></i>
         </a>
         <a class="carousel-control-next" href="#electronic_main_slider" role="button" data-slide="next">
            <i class="fa fa-angle-right"></i>
         </a>
      </div>
   </div>
   

{% endblock %}
