{% extends 'base.html.twig' %}
{% block stylesheets %}
<!-- bootstrap css -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css"
  integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
<link rel="stylesheet" type="text/css" href="{{ asset('assets/css/bootstrap.min.css') }}">
<!-- style css -->
<link rel="stylesheet" type="text/css" href="{{ asset('assets/css/panier.css') }}">
{% endblock %}

{% block body %}
<div class="card cart-card mt-5">
  <div class="row">
      <div class="col-md-8 cart">
          <div class="title">
              <div class="row">
                  <div class="col"><h4><b>Panier</b></h4></div>
                  {# <div class="col align-self-center text-right text-muted">3 items</div> #}
              </div>
          </div>  
          <div class="panier">
          
          {% if items | length > 0 %}
                  <div class="d-flex w-100 justify-content-evenly">
                    <div>Produit</div>
                    <div>Qté</div>
                    <div>Prix</div>
                  </div>
          {% for item in items %}  
            <div class="row border-top border-bottom">
                <div class="row d-flex main align-items-center">
                    <div class="col-2"><img class="img-fluid" src="/images/photos/{{ item.photo.imageName }}"></div>
                    <div class="col">
                    {# {{ dump(item) }} #}
                        <div class="row text-muted">{{ item.product.name }}</div>
                    </div>
                    <div class="col">
                        {# <a href="#">-</a> #}
                        <span>{{ item.quantity }}</span>
                        {# <a href="#">+</a> #}
                    </div>
                    <div class="col">&euro; {{ item.product.price }} <a href='{{ path("del_panier", {id: item.product.id}) }}' class="close"><i class="fa fa-trash-o fa-2x" aria-hidden="true"></i></a></div>
                </div>
            </div>
          {% endfor %}
            {# <div class="row">
                <span class="text-end px-2 my-2">Vider le panier<a href='{{ path('del_panier_all') }}'><i class="fa fa-trash-o fa-2x ms-3" aria-hidden="true"></i></a></span>
            </div> #}
          {% else %}
          <p>Votre panier est vide</p>
          {% endif %}
          </div>
          <div class="row">
                <span class="text-end px-2 my-2"><a href='{{ path('del_panier_all') }}'>Vider le panier<i class="fa fa-trash-o fa-2x ms-3" aria-hidden="true"></i></a></span>
            </div>
          <div class="back-to-shop"><a href="{{ path("app_home") }}" class="text-muted">Retour</a></div>
      </div>
      <div class="col-md-4 summary">
          <div><h5><b>Résumé</b></h5></div>
          <hr>
          <div class="row">
              <div class="col text-right my-4" style="padding-left:0;">{{ totalQuantity }} produits</div>
              {# <div class="col text-right">&euro; {{ total }}</div> #}
          </div>
          <div class="row" style="border-top: 2px solid rgba(0,0,0,.1); padding: 2vh 0;">
              <div class="col">PRIX TOTAL</div>
              <div class="col text-right">&euro; {{ total }}</div>
          </div>
          <button class="btn"><a class="text-white fs-5" href="{{ path("order_index") }}">Valider mon panier</a></button>
      </div>
  </div>
  
</div>
{% endblock %}
{% block footer %}
{% endblock %}
{% block sticky_cart %}
{% endblock %}
{% block javascriptsBottom %}
<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"
  integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"
  integrity="sha384-Fy6S3B9q64WdZWQUiU+q4/2Lc9npb8tCaSX9FK7E8HnRr0Jz8D6OP9dO5Vg3Q9ct" crossorigin="anonymous"></script>
{% endblock %}